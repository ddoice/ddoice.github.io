<h1>pdf 417</h1>

<video id="stream" style="width: 100vw; height: 100vh;"/>


<script src="//cdn.jsdelivr.net/npm/eruda"></script>
<script>eruda.init();</script>



<script>


  (async () => {
const stream = await navigator.mediaDevices.getUserMedia({
  video: {
    facingMode: {
      ideal: "environment"
    }
  },
  audio: false
});
const videoEl = document.querySelector("#stream");
videoEl.srcObject = stream;
await videoEl.play();

const barcodeDetector = new BarcodeDetector({formats: ['pdf417']});
window.setInterval(async () => {
  const barcodes = await barcodeDetector.detect(videoEl);
  if (barcodes.length <= 0) return;
  alert(barcodes.map(barcode => barcode.rawValue));
}, 1000)
})();
  
</script>
